{"version":3,"sources":["@wordpress/block-editor/src/hooks/dimensions.js"],"names":["classnames","__experimentalToolsPanelItem","ToolsPanelItem","__experimentalVStack","VStack","Platform","useState","__","getBlockSupport","useDispatch","InspectorControls","GapEdit","hasGapSupport","hasGapValue","resetGap","useIsGapDisabled","MarginEdit","MarginVisualizer","hasMarginSupport","hasMarginValue","resetMargin","useIsMarginDisabled","MinHeightEdit","hasMinHeightSupport","hasMinHeightValue","resetMinHeight","useIsMinHeightDisabled","PaddingEdit","PaddingVisualizer","hasPaddingSupport","hasPaddingValue","resetPadding","useIsPaddingDisabled","ChildLayoutEdit","hasChildLayoutSupport","hasChildLayoutValue","resetChildLayout","useIsChildLayoutDisabled","childLayoutOrientation","useSetting","store","blockEditorStore","unlock","DIMENSIONS_SUPPORT_KEY","SPACING_SUPPORT_KEY","ALL_SIDES","AXIAL_SIDES","useVisualizerMouseOver","isMouseOver","setIsMouseOver","hideBlockInterface","showBlockInterface","onMouseOver","e","stopPropagation","onMouseOut","DimensionsPanel","props","isGapDisabled","isPaddingDisabled","isMarginDisabled","isMinHeightDisabled","isChildLayoutDisabled","isDisabled","useIsDimensionsDisabled","isSupported","hasDimensionsSupport","spacingSizes","paddingMouseOver","marginMouseOver","defaultDimensionsControls","name","defaultSpacingControls","createResetAllFilter","attribute","featureSet","newAttributes","style","undefined","spacingClassnames","length","__unstableParentLayout","parentLayout","padding","clientId","margin","blockGap","minHeight","OS","blockName","gapDisabled","minHeightDisabled","paddingDisabled","marginDisabled","childLayoutDisabled","useCustomSides","feature","support","Array","isArray","sides","useIsDimensionsSupportValid","some","side","includes","console","warn"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalToolsPanelItem as ToolsPanelItem,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { Platform, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getBlockSupport } from '@wordpress/blocks';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport InspectorControls from '../components/inspector-controls';\nimport {\n\tGapEdit,\n\thasGapSupport,\n\thasGapValue,\n\tresetGap,\n\tuseIsGapDisabled,\n} from './gap';\nimport {\n\tMarginEdit,\n\tMarginVisualizer,\n\thasMarginSupport,\n\thasMarginValue,\n\tresetMargin,\n\tuseIsMarginDisabled,\n} from './margin';\nimport {\n\tMinHeightEdit,\n\thasMinHeightSupport,\n\thasMinHeightValue,\n\tresetMinHeight,\n\tuseIsMinHeightDisabled,\n} from './min-height';\nimport {\n\tPaddingEdit,\n\tPaddingVisualizer,\n\thasPaddingSupport,\n\thasPaddingValue,\n\tresetPadding,\n\tuseIsPaddingDisabled,\n} from './padding';\nimport {\n\tChildLayoutEdit,\n\thasChildLayoutSupport,\n\thasChildLayoutValue,\n\tresetChildLayout,\n\tuseIsChildLayoutDisabled,\n\tchildLayoutOrientation,\n} from './child-layout';\nimport useSetting from '../components/use-setting';\nimport { store as blockEditorStore } from '../store';\nimport { unlock } from '../experiments';\n\nexport const DIMENSIONS_SUPPORT_KEY = 'dimensions';\nexport const SPACING_SUPPORT_KEY = 'spacing';\nexport const ALL_SIDES = [ 'top', 'right', 'bottom', 'left' ];\nexport const AXIAL_SIDES = [ 'vertical', 'horizontal' ];\n\nfunction useVisualizerMouseOver() {\n\tconst [ isMouseOver, setIsMouseOver ] = useState( false );\n\tconst { hideBlockInterface, showBlockInterface } = unlock(\n\t\tuseDispatch( blockEditorStore )\n\t);\n\tconst onMouseOver = ( e ) => {\n\t\te.stopPropagation();\n\t\thideBlockInterface();\n\t\tsetIsMouseOver( true );\n\t};\n\tconst onMouseOut = ( e ) => {\n\t\te.stopPropagation();\n\t\tshowBlockInterface();\n\t\tsetIsMouseOver( false );\n\t};\n\treturn { isMouseOver, onMouseOver, onMouseOut };\n}\n\n/**\n * Inspector controls for dimensions support.\n *\n * @param {Object} props Block props.\n *\n * @return {WPElement} Inspector controls for dimensions and spacing support features.\n */\nexport function DimensionsPanel( props ) {\n\tconst isGapDisabled = useIsGapDisabled( props );\n\tconst isPaddingDisabled = useIsPaddingDisabled( props );\n\tconst isMarginDisabled = useIsMarginDisabled( props );\n\tconst isMinHeightDisabled = useIsMinHeightDisabled( props );\n\tconst isChildLayoutDisabled = useIsChildLayoutDisabled( props );\n\tconst isDisabled = useIsDimensionsDisabled( props );\n\tconst isSupported = hasDimensionsSupport( props );\n\tconst spacingSizes = useSetting( 'spacing.spacingSizes' );\n\tconst paddingMouseOver = useVisualizerMouseOver();\n\tconst marginMouseOver = useVisualizerMouseOver();\n\n\tif ( isDisabled || ! isSupported ) {\n\t\treturn null;\n\t}\n\n\tconst defaultDimensionsControls = getBlockSupport( props.name, [\n\t\tDIMENSIONS_SUPPORT_KEY,\n\t\t'__experimentalDefaultControls',\n\t] );\n\n\tconst defaultSpacingControls = getBlockSupport( props.name, [\n\t\tSPACING_SUPPORT_KEY,\n\t\t'__experimentalDefaultControls',\n\t] );\n\n\tconst createResetAllFilter =\n\t\t( attribute, featureSet ) => ( newAttributes ) => ( {\n\t\t\t...newAttributes,\n\t\t\tstyle: {\n\t\t\t\t...newAttributes.style,\n\t\t\t\t[ featureSet ]: {\n\t\t\t\t\t...newAttributes.style?.[ featureSet ],\n\t\t\t\t\t[ attribute ]: undefined,\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\n\tconst spacingClassnames = classnames( {\n\t\t'tools-panel-item-spacing': spacingSizes && spacingSizes.length > 0,\n\t} );\n\n\tconst { __unstableParentLayout: parentLayout } = props;\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls group=\"dimensions\">\n\t\t\t\t{ ! isPaddingDisabled && (\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\tclassName={ spacingClassnames }\n\t\t\t\t\t\thasValue={ () => hasPaddingValue( props ) }\n\t\t\t\t\t\tlabel={ __( 'Padding' ) }\n\t\t\t\t\t\tonDeselect={ () => resetPadding( props ) }\n\t\t\t\t\t\tresetAllFilter={ createResetAllFilter(\n\t\t\t\t\t\t\t'padding',\n\t\t\t\t\t\t\t'spacing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tisShownByDefault={ defaultSpacingControls?.padding }\n\t\t\t\t\t\tpanelId={ props.clientId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PaddingEdit\n\t\t\t\t\t\t\tonMouseOver={ paddingMouseOver.onMouseOver }\n\t\t\t\t\t\t\tonMouseOut={ paddingMouseOver.onMouseOut }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t) }\n\t\t\t\t{ ! isMarginDisabled && (\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\tclassName={ spacingClassnames }\n\t\t\t\t\t\thasValue={ () => hasMarginValue( props ) }\n\t\t\t\t\t\tlabel={ __( 'Margin' ) }\n\t\t\t\t\t\tonDeselect={ () => resetMargin( props ) }\n\t\t\t\t\t\tresetAllFilter={ createResetAllFilter(\n\t\t\t\t\t\t\t'margin',\n\t\t\t\t\t\t\t'spacing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tisShownByDefault={ defaultSpacingControls?.margin }\n\t\t\t\t\t\tpanelId={ props.clientId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<MarginEdit\n\t\t\t\t\t\t\tonMouseOver={ marginMouseOver.onMouseOver }\n\t\t\t\t\t\t\tonMouseOut={ marginMouseOver.onMouseOut }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t) }\n\t\t\t\t{ ! isGapDisabled && (\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\tclassName={ spacingClassnames }\n\t\t\t\t\t\thasValue={ () => hasGapValue( props ) }\n\t\t\t\t\t\tlabel={ __( 'Block spacing' ) }\n\t\t\t\t\t\tonDeselect={ () => resetGap( props ) }\n\t\t\t\t\t\tresetAllFilter={ createResetAllFilter(\n\t\t\t\t\t\t\t'blockGap',\n\t\t\t\t\t\t\t'spacing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tisShownByDefault={ defaultSpacingControls?.blockGap }\n\t\t\t\t\t\tpanelId={ props.clientId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<GapEdit { ...props } />\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t) }\n\t\t\t\t{ ! isMinHeightDisabled && (\n\t\t\t\t\t<ToolsPanelItem\n\t\t\t\t\t\thasValue={ () => hasMinHeightValue( props ) }\n\t\t\t\t\t\tlabel={ __( 'Min. height' ) }\n\t\t\t\t\t\tonDeselect={ () => resetMinHeight( props ) }\n\t\t\t\t\t\tresetAllFilter={ createResetAllFilter(\n\t\t\t\t\t\t\t'minHeight',\n\t\t\t\t\t\t\t'dimensions'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tisShownByDefault={\n\t\t\t\t\t\t\tdefaultDimensionsControls?.minHeight\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpanelId={ props.clientId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<MinHeightEdit { ...props } />\n\t\t\t\t\t</ToolsPanelItem>\n\t\t\t\t) }\n\t\t\t\t{ ! isChildLayoutDisabled && (\n\t\t\t\t\t<VStack\n\t\t\t\t\t\tas={ ToolsPanelItem }\n\t\t\t\t\t\tspacing={ 2 }\n\t\t\t\t\t\thasValue={ () => hasChildLayoutValue( props ) }\n\t\t\t\t\t\tlabel={ childLayoutOrientation( parentLayout ) }\n\t\t\t\t\t\tonDeselect={ () => resetChildLayout( props ) }\n\t\t\t\t\t\tresetAllFilter={ createResetAllFilter(\n\t\t\t\t\t\t\t'selfStretch',\n\t\t\t\t\t\t\t'layout'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tisShownByDefault={ false }\n\t\t\t\t\t\tpanelId={ props.clientId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChildLayoutEdit { ...props } />\n\t\t\t\t\t</VStack>\n\t\t\t\t) }\n\t\t\t</InspectorControls>\n\t\t\t{ ! isPaddingDisabled && (\n\t\t\t\t<PaddingVisualizer\n\t\t\t\t\tforceShow={ paddingMouseOver.isMouseOver }\n\t\t\t\t\t{ ...props }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ ! isMarginDisabled && (\n\t\t\t\t<MarginVisualizer\n\t\t\t\t\tforceShow={ marginMouseOver.isMouseOver }\n\t\t\t\t\t{ ...props }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\n/**\n * Determine whether there is dimensions related block support.\n *\n * @param {Object} props Block props.\n *\n * @return {boolean} Whether there is support.\n */\nexport function hasDimensionsSupport( props ) {\n\tif ( Platform.OS !== 'web' ) {\n\t\treturn false;\n\t}\n\n\tconst { name: blockName } = props;\n\n\treturn (\n\t\thasGapSupport( blockName ) ||\n\t\thasMinHeightSupport( blockName ) ||\n\t\thasPaddingSupport( blockName ) ||\n\t\thasMarginSupport( blockName ) ||\n\t\thasChildLayoutSupport( props )\n\t);\n}\n\n/**\n * Determines whether dimensions support has been disabled.\n *\n * @param {Object} props Block properties.\n *\n * @return {boolean} If spacing support is completely disabled.\n */\nconst useIsDimensionsDisabled = ( props = {} ) => {\n\tconst gapDisabled = useIsGapDisabled( props );\n\tconst minHeightDisabled = useIsMinHeightDisabled( props );\n\tconst paddingDisabled = useIsPaddingDisabled( props );\n\tconst marginDisabled = useIsMarginDisabled( props );\n\tconst childLayoutDisabled = useIsChildLayoutDisabled( props );\n\n\treturn (\n\t\tgapDisabled &&\n\t\tminHeightDisabled &&\n\t\tpaddingDisabled &&\n\t\tmarginDisabled &&\n\t\tchildLayoutDisabled\n\t);\n};\n\n/**\n * Custom hook to retrieve which padding/margin/blockGap is supported\n * e.g. top, right, bottom or left.\n *\n * Sides are opted into by default. It is only if a specific side is set to\n * false that it is omitted.\n *\n * @param {string} blockName Block name.\n * @param {string} feature   The feature custom sides relate to e.g. padding or margins.\n *\n * @return {string[] | undefined} Strings representing the custom sides available.\n */\nexport function useCustomSides( blockName, feature ) {\n\tconst support = getBlockSupport( blockName, SPACING_SUPPORT_KEY );\n\n\t// Skip when setting is boolean as theme isn't setting arbitrary sides.\n\tif ( ! support || typeof support[ feature ] === 'boolean' ) {\n\t\treturn;\n\t}\n\n\t// Return if the setting is an array of sides (e.g. `[ 'top', 'bottom' ]`).\n\tif ( Array.isArray( support[ feature ] ) ) {\n\t\treturn support[ feature ];\n\t}\n\n\t// Finally, attempt to return `.sides` if the setting is an object.\n\tif ( support[ feature ]?.sides ) {\n\t\treturn support[ feature ].sides;\n\t}\n}\n\n/**\n * Custom hook to determine whether the sides configured in the\n * block support are valid. A dimension property cannot declare\n * support for a mix of axial and individual sides.\n *\n * @param {string} blockName Block name.\n * @param {string} feature   The feature custom sides relate to e.g. padding or margins.\n *\n * @return {boolean} If the feature has a valid configuration of sides.\n */\nexport function useIsDimensionsSupportValid( blockName, feature ) {\n\tconst sides = useCustomSides( blockName, feature );\n\n\tif (\n\t\tsides &&\n\t\tsides.some( ( side ) => ALL_SIDES.includes( side ) ) &&\n\t\tsides.some( ( side ) => AXIAL_SIDES.includes( side ) )\n\t) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.warn(\n\t\t\t`The ${ feature } support for the \"${ blockName }\" block can not be configured to support both axial and arbitrary sides.`\n\t\t);\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n"]}