{"version":3,"sources":["calculator-autos-new/script/calculator-autos-new.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","toString","call","slice","name","Array","from","test","iter","isArray","len","length","i","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","AutoFormController","this","querySelector","document","handleCalculations","value","carValue","e","preventDefault","_this","formElement","classList","calculationResult","formFooter","validateClientAge","tasaFeci","calculateRateValue","calculateBalance","insuranceMonthlyPayment","addEventListener","validateNumberInputs","balance","monthCount","rateValue","roundedCapitalFee","Math","pow","commisionPercent","calculateCommisionPercent","commision","result","agePercent","firstFee","concat","numerator","percentage","toFixed","loanTerm","carType","calculateAgePercent","clientAge","removeAllErrors","validateMonths","valid","add","parentElement","calculateTasaVariable","loanType","initialAllowance","salePrice","errorMessages","formErrorMessages","querySelectorAll","map","message","property","remove","numberInputs"],"mappings":"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","file":"calculator-autos-new.min.js","sourcesContent":["'use strict'\r\n\r\nclass AutoFormController {\r\n  constructor() {\r\n    this.carType = document.querySelector('#carType')\r\n    this.loanTerm = document.querySelector('#loanTerm')\r\n    this.carValue = document.querySelector('#carValue')\r\n    this.firstFee = document.querySelector('#firstFee')\r\n    this.clientAge = document.querySelector('#clientAge')\r\n    this.formElement = document.querySelector('.calculator-autos-new__form')\r\n    this.selectField = document.querySelector('select.calculator-autos-new__input-field')\r\n    this.numberInputs = [...document.querySelectorAll('input.calculator-autos-new__input-field')]\r\n    this.calculationResult = document.querySelector('.calculator-autos-new__result-text--right')\r\n    this.formFooter = document.querySelector('.calculator-autos-new__form-footer')\r\n\r\n    this.handleCalculations()\r\n  }\r\n\r\n  handleCalculations() {\r\n    this.formElement.addEventListener('submit', (e) => {\r\n      e.preventDefault()\r\n\r\n      this.formFooter.classList.remove('form-footer--active')\r\n\r\n      if (\r\n        this.validateNumberInputs() &&\r\n        this.validateFirstFee() &&\r\n        this.validateMonths() &&\r\n        this.validateClientAge()\r\n      ) {\r\n        let rateValue = this.calculateRateValue()\r\n        let tasaFeci = (rateValue + 1) / 100\r\n        let balance = this.calculateBalance()\r\n        let commisionPercent = this.calculateCommisionPercent()\r\n        let commision = 648.33 * balance * 1.07\r\n        let totalAmount = 648.33 + balance + commision\r\n        let agePercent = this.calculateAgePercent()\r\n        let insuranceMonthlyPayment = (agePercent * balance) / 1000\r\n        let monthCount = this.loanTerm.value\r\n        let numerator = balance * ((tasaFeci / 11.744) * Math.pow(1 + tasaFeci / 11.744, monthCount))\r\n        let denominator = Math.pow(1 + tasaFeci / 11.744, monthCount) - 1\r\n        let capitalFee = numerator / denominator\r\n        let roundedCapitalFee = capitalFee.toFixed(2)\r\n        let result = Number(insuranceMonthlyPayment) + 3.21 + Number(roundedCapitalFee)\r\n\r\n        this.calculationResult.innerHTML = ''\r\n        this.calculationResult.innerHTML = `Abono Inicial ${this.firstFee.value} | $${result.toFixed(2)}`\r\n\r\n        this.formFooter.classList.add('form-footer--active')\r\n      }\r\n    })\r\n  }\r\n\r\n  calculateRateValue() {\r\n    const percentage = ((this.firstFee.value / this.carValue.value) * 100).toFixed(2)\r\n    const loanTerm = this.loanTerm.value\r\n\r\n    if (this.carType.value === 'Auto Nuevo') {\r\n      if (percentage < 20) {\r\n        if (loanTerm < 84) {\r\n          return 6.5\r\n        }\r\n\r\n        if (loanTerm >= 84 && loanTerm < 90) {\r\n          return 6.75\r\n        }\r\n\r\n        if (loanTerm >= 90) {\r\n          return 7.0\r\n        }\r\n      }\r\n\r\n      if (percentage >= 20 && percentage < 30) {\r\n        if (loanTerm < 84) {\r\n          return 6.25\r\n        }\r\n\r\n        if (loanTerm >= 84 && loanTerm < 90) {\r\n          return 6.5\r\n        }\r\n\r\n        if (loanTerm >= 90) {\r\n          return 6.75\r\n        }\r\n      }\r\n\r\n      if (percentage >= 30) {\r\n        if (loanTerm < 84) {\r\n          return 6.15\r\n        }\r\n\r\n        if (loanTerm >= 84 && loanTerm < 90) {\r\n          return 6.25\r\n        }\r\n\r\n        if (loanTerm >= 90) {\r\n          return 6.5\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.carType.value === 'Autos Usado') {\r\n      if (percentage < 20) {\r\n        if (loanTerm < 60) {\r\n          return 7.75\r\n        }\r\n\r\n        if (loanTerm >= 60 && loanTerm < 72) {\r\n          return 7.75\r\n        }\r\n\r\n        if (loanTerm >= 72) {\r\n          return 7.75\r\n        }\r\n      }\r\n\r\n      if (percentage >= 20 && percentage < 30) {\r\n        if (loanTerm < 60) {\r\n          return 7.75\r\n        }\r\n\r\n        if (loanTerm >= 60 && loanTerm < 72) {\r\n          return 7.75\r\n        }\r\n\r\n        if (loanTerm >= 72) {\r\n          return 7.75\r\n        }\r\n      }\r\n\r\n      if (percentage >= 30) {\r\n        if (loanTerm < 60) {\r\n          return 7.3\r\n        }\r\n\r\n        if (loanTerm >= 60 && loanTerm < 72) {\r\n          return 7.3\r\n        }\r\n\r\n        if (loanTerm >= 72) {\r\n          return 7.3\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  calculateAgePercent() {\r\n    if (this.clientAge.value <= 29) {\r\n      return 0.61\r\n    }\r\n\r\n    if (this.clientAge.value > 29 && this.clientAge.value <= 39) {\r\n      return 0.63\r\n    }\r\n\r\n    if (this.clientAge.value > 39 && this.clientAge.value <= 44) {\r\n      return 0.66\r\n    }\r\n\r\n    if (this.clientAge.value > 44 && this.clientAge.value <= 49) {\r\n      return 0.83\r\n    }\r\n\r\n    if (this.clientAge.value > 49 && this.clientAge.value <= 54) {\r\n      return 1.11\r\n    }\r\n\r\n    if (this.clientAge.value > 54 && this.clientAge.value <= 59) {\r\n      return 1.61\r\n    }\r\n\r\n    if (this.clientAge.value > 59 && this.clientAge.value <= 65) {\r\n      return 2.4\r\n    }\r\n\r\n    if (this.clientAge.value > 65 && this.clientAge.value <= 79) {\r\n      return 3.57\r\n    }\r\n  }\r\n\r\n  calculateCommisionPercent() {\r\n    const percentage = ((this.firstFee.value / this.carValue.value) * 100).toFixed(2)\r\n    const loanTerm = this.loanTerm.value\r\n\r\n    if (this.carType.value === 'Auto Nuevo') {\r\n      if (percentage < 20) {\r\n        if (loanTerm < 84) {\r\n          return 1.75\r\n        }\r\n\r\n        if (loanTerm >= 84 && loanTerm < 90) {\r\n          return 2.0\r\n        }\r\n\r\n        if (loanTerm >= 90) {\r\n          return 2.0\r\n        }\r\n      }\r\n\r\n      if (percentage >= 20 && percentage < 30) {\r\n        if (loanTerm < 84) {\r\n          return 2.25\r\n        }\r\n\r\n        if (loanTerm >= 84 && loanTerm < 90) {\r\n          return 2.0\r\n        }\r\n\r\n        if (loanTerm >= 90) {\r\n          return 2.0\r\n        }\r\n      }\r\n\r\n      if (percentage >= 30) {\r\n        if (loanTerm < 84) {\r\n          return 3.05\r\n        }\r\n\r\n        if (loanTerm >= 84 && loanTerm < 90) {\r\n          return 2.5\r\n        }\r\n\r\n        if (loanTerm >= 90) {\r\n          return 2.5\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.carType.value === 'Autos Usado') {\r\n      if (percentage < 20) {\r\n        if (loanTerm < 60) {\r\n          return 1.5\r\n        }\r\n\r\n        if (loanTerm >= 60 && loanTerm < 72) {\r\n          return 1.5\r\n        }\r\n\r\n        if (loanTerm >= 72) {\r\n          return 1.5\r\n        }\r\n      }\r\n\r\n      if (percentage >= 20 && percentage < 30) {\r\n        if (loanTerm < 60) {\r\n          return 1.5\r\n        }\r\n\r\n        if (loanTerm >= 60 && loanTerm < 72) {\r\n          return 1.5\r\n        }\r\n\r\n        if (loanTerm >= 72) {\r\n          return 1.5\r\n        }\r\n      }\r\n\r\n      if (percentage >= 30) {\r\n        if (loanTerm < 60) {\r\n          return 1.5\r\n        }\r\n\r\n        if (loanTerm >= 60 && loanTerm < 72) {\r\n          return 1.5\r\n        }\r\n\r\n        if (loanTerm >= 72) {\r\n          return 1.5\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  calculateBalance() {\r\n    return this.carValue.value - this.firstFee.value\r\n  }\r\n\r\n  validateNumberInputs() {\r\n    this.removeAllErrors()\r\n    let valid = true\r\n\r\n    this.numberInputs.map((input) => {\r\n      if (!input.value) {\r\n        document.querySelector('.empty-field-error').classList.add('message--visible')\r\n        input.parentElement.classList.add('has-error')\r\n        valid = false\r\n      }\r\n    })\r\n\r\n    return valid\r\n  }\r\n\r\n  validateMonths() {\r\n    let valid = true\r\n\r\n    if (this.carType.value === 'Auto Nuevo') {\r\n      if (this.loanTerm.value >= 12 && this.loanTerm.value <= 96) return valid\r\n\r\n      valid = false\r\n      document.querySelector('.months-new').classList.add('message--visible')\r\n      this.loanTerm.parentElement.classList.add('has-error')\r\n\r\n      return valid\r\n    }\r\n\r\n    if (this.carType.value === 'Autos Usado') {\r\n      if (this.loanTerm.value >= 12 && this.loanTerm.value <= 84) return valid\r\n\r\n      valid = false\r\n      document.querySelector('.months-used').classList.add('message--visible')\r\n      return valid\r\n    }\r\n  }\r\n\r\n  validateClientAge() {\r\n    let valid = true\r\n\r\n    if (this.clientAge.value < 18 || this.clientAge.value > 79) {\r\n      valid = false\r\n      this.clientAge.parentElement.classList.add('has-error')\r\n      document.querySelector('.age-error').classList.add('message--visible')\r\n    }\r\n\r\n    return valid\r\n  }\r\n\r\n  validateFirstFee() {\r\n    let valid = true\r\n\r\n    if (this.carType.value === 'Auto Nuevo') {\r\n      if (this.carValue.value / 10 > firstFee.value) {\r\n        valid = false\r\n        document.querySelector('.payment-error-new').classList.add('message--visible')\r\n        this.carValue.parentElement.classList.add('has-error')\r\n        this.firstFee.parentElement.classList.add('has-error')\r\n      }\r\n    }\r\n\r\n    if (this.carType.value === 'Autos Usado') {\r\n      if (this.carValue.value * 0.2 > firstFee.value) {\r\n        valid = false\r\n        document.querySelector('.payment-error-used').classList.add('message--visible')\r\n        this.carValue.parentElement.classList.add('has-error')\r\n        this.firstFee.parentElement.classList.add('has-error')\r\n      }\r\n    }\r\n\r\n    return valid\r\n  }\r\n\r\n  calculateTasaVariable() {\r\n    if (this.loanType === 'Vivienda Principal') {\r\n      if (this.property === 'Casa') {\r\n        return this.salePrice <= 120000 ? 1.75 / 100 : 7.25 / 100\r\n      }\r\n\r\n      if (this.property === 'Apartamento') {\r\n        if (this.salePrice <= 120000) {\r\n          return 1.75 / 100\r\n        }\r\n\r\n        if (this.salePrice > 120000 && this.salePrice <= 150000) {\r\n          return 3.75 / 100\r\n        }\r\n\r\n        if (this.salePrice > 150000 && this.salePrice <= 180000) {\r\n          return 4.25 / 100\r\n        }\r\n\r\n        if (this.salePrice > 180000) {\r\n          return 7.25 / 100\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.loanType === 'Segunda Residencia') {\r\n      if ((this.initialAllowance / this.salePrice) * 100 >= 30) {\r\n        return 7.6 / 100\r\n      } else {\r\n        return 7.75 / 100\r\n      }\r\n    }\r\n  }\r\n\r\n  removeAllErrors() {\r\n    const errorMessages = [...this.formElement.querySelectorAll('.error-message')]\r\n    const formErrorMessages = [...document.querySelectorAll('.calculator-autos-new__errors-text')]\r\n\r\n    errorMessages.map((message) => {\r\n      message.classList.remove('message--visible')\r\n    })\r\n\r\n    formErrorMessages.map((message) => {\r\n      message.classList.remove('message--visible')\r\n    })\r\n\r\n    this.numberInputs.map((input) => {\r\n      input.parentElement.classList.remove('has-error')\r\n    })\r\n  }\r\n}\r\n\r\nnew AutoFormController()\r\n"]}