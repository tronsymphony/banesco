{"version":3,"sources":["@wordpress/preferences/src/components/preference-toggle-menu-item/index.js"],"names":["PreferenceToggleMenuItem","scope","name","label","info","messageActivated","messageDeactivated","shortcut","onToggle","disabled","isActive","select","preferencesStore","get","toggle","speakMessage","message","check"],"mappings":";;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AAKA;;AAZA;AACA;AACA;;AAOA;AACA;AACA;AAGe,SAASA,wBAAT,CAAmC;AACjDC,EAAAA,KADiD;AAEjDC,EAAAA,IAFiD;AAGjDC,EAAAA,KAHiD;AAIjDC,EAAAA,IAJiD;AAKjDC,EAAAA,gBALiD;AAMjDC,EAAAA,kBANiD;AAOjDC,EAAAA,QAPiD;AAQjDC,EAAAA,QAAQ,GAAG,MAAM,IARgC;AASjDC,EAAAA,QAAQ,GAAG;AATsC,CAAnC,EAUX;AACH,QAAMC,QAAQ,GAAG,qBACdC,MAAF,IAAc,CAAC,CAAEA,MAAM,CAAEC,YAAF,CAAN,CAA2BC,GAA3B,CAAgCZ,KAAhC,EAAuCC,IAAvC,CADD,EAEhB,CAAED,KAAF,EAASC,IAAT,CAFgB,CAAjB;AAIA,QAAM;AAAEY,IAAAA;AAAF,MAAa,uBAAaF,YAAb,CAAnB;;AACA,QAAMG,YAAY,GAAG,MAAM;AAC1B,QAAKL,QAAL,EAAgB;AACf,YAAMM,OAAO,GACZV,kBAAkB,IAClB;AACC;AACA,oBAAI,6BAAJ,CAFD,EAGCH,KAHD,CAFD;AAOA,uBAAOa,OAAP;AACA,KATD,MASO;AACN,YAAMA,OAAO,GACZX,gBAAgB,IAChB;AACC;AACA,oBAAI,2BAAJ,CAFD,EAGCF,KAHD,CAFD;AAOA,uBAAOa,OAAP;AACA;AACD,GApBD;;AAsBA,SACC,4BAAC,oBAAD;AACC,IAAA,IAAI,EAAGN,QAAQ,IAAIO,YADpB;AAEC,IAAA,UAAU,EAAGP,QAFd;AAGC,IAAA,OAAO,EAAG,MAAM;AACfF,MAAAA,QAAQ;AACRM,MAAAA,MAAM,CAAEb,KAAF,EAASC,IAAT,CAAN;AACAa,MAAAA,YAAY;AACZ,KAPF;AAQC,IAAA,IAAI,EAAC,kBARN;AASC,IAAA,IAAI,EAAGX,IATR;AAUC,IAAA,QAAQ,EAAGG,QAVZ;AAWC,IAAA,QAAQ,EAAGE;AAXZ,KAaGN,KAbH,CADD;AAiBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { MenuItem } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { store as preferencesStore } from '../../store';\n\nexport default function PreferenceToggleMenuItem( {\n\tscope,\n\tname,\n\tlabel,\n\tinfo,\n\tmessageActivated,\n\tmessageDeactivated,\n\tshortcut,\n\tonToggle = () => null,\n\tdisabled = false,\n} ) {\n\tconst isActive = useSelect(\n\t\t( select ) => !! select( preferencesStore ).get( scope, name ),\n\t\t[ scope, name ]\n\t);\n\tconst { toggle } = useDispatch( preferencesStore );\n\tconst speakMessage = () => {\n\t\tif ( isActive ) {\n\t\t\tconst message =\n\t\t\t\tmessageDeactivated ||\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: preference name, e.g. 'Fullscreen mode' */\n\t\t\t\t\t__( 'Preference deactivated - %s' ),\n\t\t\t\t\tlabel\n\t\t\t\t);\n\t\t\tspeak( message );\n\t\t} else {\n\t\t\tconst message =\n\t\t\t\tmessageActivated ||\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: preference name, e.g. 'Fullscreen mode' */\n\t\t\t\t\t__( 'Preference activated - %s' ),\n\t\t\t\t\tlabel\n\t\t\t\t);\n\t\t\tspeak( message );\n\t\t}\n\t};\n\n\treturn (\n\t\t<MenuItem\n\t\t\ticon={ isActive && check }\n\t\t\tisSelected={ isActive }\n\t\t\tonClick={ () => {\n\t\t\t\tonToggle();\n\t\t\t\ttoggle( scope, name );\n\t\t\t\tspeakMessage();\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tinfo={ info }\n\t\t\tshortcut={ shortcut }\n\t\t\tdisabled={ disabled }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n"]}