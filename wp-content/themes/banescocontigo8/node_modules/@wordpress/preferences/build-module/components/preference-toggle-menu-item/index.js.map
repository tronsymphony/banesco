{"version":3,"sources":["@wordpress/preferences/src/components/preference-toggle-menu-item/index.js"],"names":["useSelect","useDispatch","MenuItem","__","sprintf","check","speak","store","preferencesStore","PreferenceToggleMenuItem","scope","name","label","info","messageActivated","messageDeactivated","shortcut","onToggle","disabled","isActive","select","get","toggle","speakMessage","message"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,SAAT,EAAoBC,WAApB,QAAuC,iBAAvC;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,SAASC,EAAT,EAAaC,OAAb,QAA4B,iBAA5B;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AAEA;AACA;AACA;;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,aAA1C;AAEA,eAAe,SAASC,wBAAT,CAAmC;AACjDC,EAAAA,KADiD;AAEjDC,EAAAA,IAFiD;AAGjDC,EAAAA,KAHiD;AAIjDC,EAAAA,IAJiD;AAKjDC,EAAAA,gBALiD;AAMjDC,EAAAA,kBANiD;AAOjDC,EAAAA,QAPiD;AAQjDC,EAAAA,QAAQ,GAAG,MAAM,IARgC;AASjDC,EAAAA,QAAQ,GAAG;AATsC,CAAnC,EAUX;AACH,QAAMC,QAAQ,GAAGnB,SAAS,CACvBoB,MAAF,IAAc,CAAC,CAAEA,MAAM,CAAEZ,gBAAF,CAAN,CAA2Ba,GAA3B,CAAgCX,KAAhC,EAAuCC,IAAvC,CADQ,EAEzB,CAAED,KAAF,EAASC,IAAT,CAFyB,CAA1B;AAIA,QAAM;AAAEW,IAAAA;AAAF,MAAarB,WAAW,CAAEO,gBAAF,CAA9B;;AACA,QAAMe,YAAY,GAAG,MAAM;AAC1B,QAAKJ,QAAL,EAAgB;AACf,YAAMK,OAAO,GACZT,kBAAkB,IAClBX,OAAO;AACN;AACAD,MAAAA,EAAE,CAAE,6BAAF,CAFI,EAGNS,KAHM,CAFR;AAOAN,MAAAA,KAAK,CAAEkB,OAAF,CAAL;AACA,KATD,MASO;AACN,YAAMA,OAAO,GACZV,gBAAgB,IAChBV,OAAO;AACN;AACAD,MAAAA,EAAE,CAAE,2BAAF,CAFI,EAGNS,KAHM,CAFR;AAOAN,MAAAA,KAAK,CAAEkB,OAAF,CAAL;AACA;AACD,GApBD;;AAsBA,SACC,cAAC,QAAD;AACC,IAAA,IAAI,EAAGL,QAAQ,IAAId,KADpB;AAEC,IAAA,UAAU,EAAGc,QAFd;AAGC,IAAA,OAAO,EAAG,MAAM;AACfF,MAAAA,QAAQ;AACRK,MAAAA,MAAM,CAAEZ,KAAF,EAASC,IAAT,CAAN;AACAY,MAAAA,YAAY;AACZ,KAPF;AAQC,IAAA,IAAI,EAAC,kBARN;AASC,IAAA,IAAI,EAAGV,IATR;AAUC,IAAA,QAAQ,EAAGG,QAVZ;AAWC,IAAA,QAAQ,EAAGE;AAXZ,KAaGN,KAbH,CADD;AAiBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { MenuItem } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\nimport { speak } from '@wordpress/a11y';\n\n/**\n * Internal dependencies\n */\nimport { store as preferencesStore } from '../../store';\n\nexport default function PreferenceToggleMenuItem( {\n\tscope,\n\tname,\n\tlabel,\n\tinfo,\n\tmessageActivated,\n\tmessageDeactivated,\n\tshortcut,\n\tonToggle = () => null,\n\tdisabled = false,\n} ) {\n\tconst isActive = useSelect(\n\t\t( select ) => !! select( preferencesStore ).get( scope, name ),\n\t\t[ scope, name ]\n\t);\n\tconst { toggle } = useDispatch( preferencesStore );\n\tconst speakMessage = () => {\n\t\tif ( isActive ) {\n\t\t\tconst message =\n\t\t\t\tmessageDeactivated ||\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: preference name, e.g. 'Fullscreen mode' */\n\t\t\t\t\t__( 'Preference deactivated - %s' ),\n\t\t\t\t\tlabel\n\t\t\t\t);\n\t\t\tspeak( message );\n\t\t} else {\n\t\t\tconst message =\n\t\t\t\tmessageActivated ||\n\t\t\t\tsprintf(\n\t\t\t\t\t/* translators: %s: preference name, e.g. 'Fullscreen mode' */\n\t\t\t\t\t__( 'Preference activated - %s' ),\n\t\t\t\t\tlabel\n\t\t\t\t);\n\t\t\tspeak( message );\n\t\t}\n\t};\n\n\treturn (\n\t\t<MenuItem\n\t\t\ticon={ isActive && check }\n\t\t\tisSelected={ isActive }\n\t\t\tonClick={ () => {\n\t\t\t\tonToggle();\n\t\t\t\ttoggle( scope, name );\n\t\t\t\tspeakMessage();\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tinfo={ info }\n\t\t\tshortcut={ shortcut }\n\t\t\tdisabled={ disabled }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n"]}